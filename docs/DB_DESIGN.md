# DBè¨­è¨ˆ

## ERå›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User      â”‚       â”‚   WantToDo   â”‚       â”‚  Recruitment â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id visibleId)â”‚â”€â”€â”    â”‚ id           â”‚       â”‚ id           â”‚
â”‚ email        â”‚  â”‚    â”‚ visibleId    â”‚       â”‚ visibleId    â”‚
â”‚ name         â”‚  â”‚    â”‚ userId       â”‚â”€â”€â”    â”‚ creatorId    â”‚â”€â”€â”
â”‚ nickname     â”‚  â”‚    â”‚ categoryId   â”‚  â”‚    â”‚ categoryId   â”‚  â”‚
â”‚ avatarUrl    â”‚  â”‚    â”‚ timing       â”‚  â”‚    â”‚ title        â”‚  â”‚
â”‚ bio          â”‚  â””â”€â”€â”€â†’â”‚ comment      â”‚  â”‚    â”‚ description  â”‚  â”‚
â”‚ area         â”‚       â”‚ expiresAt    â”‚  â”‚    â”‚ datetime     â”‚  â”‚
â”‚ createdAt    â”‚       â”‚ status       â”‚  â”‚    â”‚ datetimeFlex â”‚  â”‚
â”‚ updatedAt    â”‚       â”‚ createdAt    â”‚  â”‚    â”‚ area         â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ updatedAt    â”‚  â”‚    â”‚ location     â”‚  â”‚
       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚ minPeople    â”‚  â”‚
       â”‚                                 â”‚    â”‚ maxPeople    â”‚  â”‚
       â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚ status       â”‚  â”‚
       â”‚               â”‚   Category   â”‚  â”‚    â”‚ createdAt    â”‚  â”‚
       â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚    â”‚ updatedAt    â”‚  â”‚
       â”‚               â”‚ id           â”‚â†â”€â”´â”€â”€â”€â”€â”‚ closedAt     â”‚  â”‚
       â”‚               â”‚ name         â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
       â”‚               â”‚ icon         â”‚              â”‚          â”‚
       â”‚               â”‚ sortOrder    â”‚              â”‚          â”‚
       â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚          â”‚
       â”‚                                             â”‚          â”‚
       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚          â”‚
       â”‚  â”‚UserCategory  â”‚                           â”‚          â”‚
       â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚          â”‚
       â””â”€â†’â”‚ userId       â”‚                           â”‚          â”‚
          â”‚ categoryId   â”‚                           â”‚          â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚          â”‚
                                                     â”‚          â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
       â”‚                                                        â”‚
       â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
       â”‚               â”‚    Offer     â”‚       â”‚    Group     â”‚  â”‚
       â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
       â”‚               â”‚ id           â”‚       â”‚ id           â”‚  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚ recruitmentIdâ”‚â”€â”€â”€â”€â”€â”€â†’â”‚ recruitmentIdâ”‚â†â”€â”˜
                       â”‚ senderId     â”‚       â”‚ name         â”‚
                       â”‚ receiverId   â”‚       â”‚ createdAt    â”‚
                       â”‚ status       â”‚       â”‚ updatedAt    â”‚
                       â”‚ message      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ createdAt    â”‚              â”‚
                       â”‚ respondedAt  â”‚              â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                                                     â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ GroupMember  â”‚       â”‚   Message    â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id           â”‚       â”‚ id           â”‚
                       â”‚ groupId      â”‚â†â”€â”€â”€â”€â”€â”€â”‚ groupId      â”‚
                       â”‚ userId       â”‚       â”‚ senderId     â”‚
                       â”‚ role         â”‚       â”‚ content      â”‚
                       â”‚ joinedAt     â”‚       â”‚ createdAt    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ Application  â”‚  â† å‚åŠ ç”³è«‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼â†’å‹Ÿé›†è€…ï¼‰
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id           â”‚
                       â”‚ recruitmentIdâ”‚
                       â”‚ applicantId  â”‚
                       â”‚ status       â”‚
                       â”‚ message      â”‚
                       â”‚ createdAt    â”‚
                       â”‚ respondedAt  â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚ Notification â”‚
                       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                       â”‚ id           â”‚
                       â”‚ userId       â”‚
                       â”‚ type         â”‚
                       â”‚ title        â”‚
                       â”‚ body         â”‚
                       â”‚ data         â”‚
                       â”‚ isRead       â”‚
                       â”‚ createdAt    â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Prisma ã‚¹ã‚­ãƒ¼ãƒ

```prisma
// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ============================================
// ãƒ¦ãƒ¼ã‚¶ãƒ¼
// ============================================

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  nickname  String
  avatarUrl String?
  bio       String?
  area      Area     @default(TOKYO)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  categories     UserCategory[]
  wantToDos      WantToDo[]
  recruitments   Recruitment[]    @relation("Creator")
  applications   Application[]    @relation("Applicant")
  sentOffers     Offer[]          @relation("Sender")
  receivedOffers Offer[]          @relation("Receiver")
  groupMembers   GroupMember[]
  messages       Message[]
  notifications  Notification[]
}

model UserCategory {
  id         String   @id @default(cuid())
  userId     String
  categoryId String
  createdAt  DateTime @default(now())

  user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  category Category @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@unique([userId, categoryId])
}

// ============================================
// ã‚«ãƒ†ã‚´ãƒª
// ============================================

model Category {
  id        String   @id @default(cuid())
  name      String   @unique
  icon      String   // emoji or icon name
  sortOrder Int      @default(0)
  createdAt DateTime @default(now())

  // Relations
  userCategories UserCategory[]
  wantToDos      WantToDo[]
  recruitments   Recruitment[]
}

// ============================================
// ã‚„ã‚ŠãŸã„ã“ã¨è¡¨æ˜
// ============================================

model WantToDo {
  id         String       @id @default(cuid())
  userId     String
  categoryId String
  timing     Timing       @default(ANYTIME)
  comment    String?
  status     WantToDoStatus @default(ACTIVE)
  expiresAt  DateTime
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @updatedAt

  user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  category Category @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([categoryId])
  @@index([status, expiresAt])
}

// ============================================
// å‹Ÿé›†
// ============================================

model Recruitment {
  id           String            @id @default(cuid())
  creatorId    String
  categoryId   String
  title        String
  description  String?
  datetime     DateTime?
  datetimeFlex String?           // "æ¥é€±æœ«ã®ã©ã“ã‹" ãªã©
  area         Area
  location     String?           // "ä»™å°é§…å‘¨è¾º" ãªã©
  minPeople    Int               @default(1)
  maxPeople    Int               @default(10)
  status       RecruitmentStatus @default(OPEN)
  createdAt    DateTime          @default(now())
  updatedAt    DateTime          @updatedAt
  closedAt     DateTime?

  creator  User     @relation("Creator", fields: [creatorId], references: [id], onDelete: Cascade)
  category Category @relation(fields: [categoryId], references: [id], onDelete: Cascade)

  // Relations
  offers       Offer[]
  applications Application[]
  group        Group?

  @@index([creatorId])
  @@index([categoryId])
  @@index([area, status])
}

// ============================================
// å‚åŠ ç”³è«‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ â†’ å‹Ÿé›†è€…ï¼‰
// ============================================

model Application {
  id            String            @id @default(cuid())
  recruitmentId String
  applicantId   String
  status        ApplicationStatus @default(PENDING)
  message       String?
  createdAt     DateTime          @default(now())
  respondedAt   DateTime?

  recruitment Recruitment @relation(fields: [recruitmentId], references: [id], onDelete: Cascade)
  applicant   User        @relation("Applicant", fields: [applicantId], references: [id], onDelete: Cascade)

  @@unique([recruitmentId, applicantId])
  @@index([applicantId, status])
}

// ============================================
// ã‚ªãƒ•ã‚¡ãƒ¼ï¼ˆå‹Ÿé›†è€… â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
// ============================================

model Offer {
  id            String      @id @default(cuid())
  recruitmentId String
  senderId      String
  receiverId    String
  status        OfferStatus @default(PENDING)
  message       String?
  createdAt     DateTime    @default(now())
  respondedAt   DateTime?

  recruitment Recruitment @relation(fields: [recruitmentId], references: [id], onDelete: Cascade)
  sender      User        @relation("Sender", fields: [senderId], references: [id], onDelete: Cascade)
  receiver    User        @relation("Receiver", fields: [receiverId], references: [id], onDelete: Cascade)

  @@unique([recruitmentId, receiverId])
  @@index([receiverId, status])
}

// ============================================
// ã‚°ãƒ«ãƒ¼ãƒ—
// ============================================

model Group {
  id            String   @id @default(cuid())
  recruitmentId String   @unique
  name          String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  recruitment Recruitment   @relation(fields: [recruitmentId], references: [id], onDelete: Cascade)
  members     GroupMember[]
  messages    Message[]
}

model GroupMember {
  id       String          @id @default(cuid())
  groupId  String
  userId   String
  role     GroupMemberRole @default(MEMBER)
  joinedAt DateTime        @default(now())

  group Group @relation(fields: [groupId], references: [id], onDelete: Cascade)
  user  User  @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([groupId, userId])
}

// ============================================
// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
// ============================================

model Message {
  id        String   @id @default(cuid())
  groupId   String
  senderId  String
  content   String
  createdAt DateTime @default(now())

  group  Group @relation(fields: [groupId], references: [id], onDelete: Cascade)
  sender User  @relation(fields: [senderId], references: [id], onDelete: Cascade)

  @@index([groupId, createdAt])
}

// ============================================
// é€šçŸ¥
// ============================================

model Notification {
  id        String           @id @default(cuid())
  userId    String
  type      NotificationType
  title     String
  body      String
  data      Json?            // è¿½åŠ ãƒ‡ãƒ¼ã‚¿ï¼ˆãƒªãƒ³ã‚¯å…ˆãªã©ï¼‰
  isRead    Boolean          @default(false)
  createdAt DateTime         @default(now())

  user User @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId, isRead, createdAt])
}

// ============================================
// Enums
// ============================================

enum Area {
  TOKYO
  SENDAI
}

enum Timing {
  THIS_WEEK
  NEXT_WEEK
  THIS_MONTH
  ANYTIME
}

enum WantToDoStatus {
  ACTIVE
  EXPIRED
  DELETED
}

enum RecruitmentStatus {
  DRAFT
  OPEN
  CLOSED
  COMPLETED
  CANCELLED
}

enum ApplicationStatus {
  PENDING
  APPROVED
  REJECTED
  CANCELLED
}

enum OfferStatus {
  PENDING
  ACCEPTED
  DECLINED
  EXPIRED
}

enum GroupMemberRole {
  OWNER
  MEMBER
}

enum NotificationType {
  APPLICATION_RECEIVED  // å‚åŠ ç”³è«‹ã‚’å—ä¿¡ï¼ˆå‹Ÿé›†è€…å‘ã‘ï¼‰
  APPLICATION_APPROVED  // å‚åŠ ç”³è«‹ãŒæ‰¿èªã•ã‚ŒãŸï¼ˆç”³è«‹è€…å‘ã‘ï¼‰
  APPLICATION_REJECTED  // å‚åŠ ç”³è«‹ãŒå´ä¸‹ã•ã‚ŒãŸï¼ˆç”³è«‹è€…å‘ã‘ï¼‰
  OFFER_RECEIVED        // ã‚ªãƒ•ã‚¡ãƒ¼ã‚’å—ä¿¡
  OFFER_ACCEPTED        // ã‚ªãƒ•ã‚¡ãƒ¼ãŒæ‰¿è«¾ã•ã‚ŒãŸ
  OFFER_DECLINED        // ã‚ªãƒ•ã‚¡ãƒ¼ãŒè¾é€€ã•ã‚ŒãŸ
  RECRUITMENT_MATCH     // è¡¨æ˜ã«ãƒãƒƒãƒã™ã‚‹å‹Ÿé›†
  GROUP_CREATED         // ã‚°ãƒ«ãƒ¼ãƒ—ãŒä½œæˆã•ã‚ŒãŸ
  NEW_MESSAGE           // æ–°ã—ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  MEMBER_JOINED         // ãƒ¡ãƒ³ãƒãƒ¼ãŒå‚åŠ 
}
```

---

## ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©è©³ç´°

### Userï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| email | String | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰ |
| name | String? | æœ¬åï¼ˆä»»æ„ï¼‰ |
| nickname | String | ãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ï¼ˆè¡¨ç¤ºåï¼‰ |
| avatarUrl | String? | ã‚¢ãƒã‚¿ãƒ¼ç”»åƒURL |
| bio | String? | è‡ªå·±ç´¹ä»‹ |
| area | Area | æ´»å‹•ã‚¨ãƒªã‚¢ï¼ˆTOKYO/SENDAIï¼‰ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| updatedAt | DateTime | æ›´æ–°æ—¥æ™‚ |

### Categoryï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| name | String | ã‚«ãƒ†ã‚´ãƒªåï¼ˆãƒ¦ãƒ‹ãƒ¼ã‚¯ï¼‰ |
| icon | String | ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆçµµæ–‡å­—ï¼‰ |
| sortOrder | Int | è¡¨ç¤ºé † |

**åˆæœŸãƒ‡ãƒ¼ã‚¿ä¾‹**:
- ğŸ² ãƒœãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ 
- â˜• ã‚«ãƒ•ã‚§
- ğŸº é£²ã¿ä¼š
- âš½ ã‚¹ãƒãƒ¼ãƒ„
- ğŸ® ã‚²ãƒ¼ãƒ 
- ğŸ¬ æ˜ ç”»
- ğŸ“š èª­æ›¸
- ğŸµ éŸ³æ¥½
- ğŸƒ ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°
- ğŸ‹ï¸ ç­‹ãƒˆãƒ¬
- ğŸ§˜ ãƒ¨ã‚¬
- ğŸ“· ã‚«ãƒ¡ãƒ©
- ğŸ¨ ã‚¢ãƒ¼ãƒˆ
- ğŸ’» ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°
- ğŸ—£ï¸ å‹‰å¼·ä¼š

### WantToDoï¼ˆã‚„ã‚ŠãŸã„ã“ã¨è¡¨æ˜ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| userId | String | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆFKï¼‰ |
| categoryId | String | ã‚«ãƒ†ã‚´ãƒªIDï¼ˆFKï¼‰ |
| timing | Timing | æ™‚æœŸï¼ˆä»Šé€±/æ¥é€±/ä»Šæœˆ/ã„ã¤ã§ã‚‚ï¼‰ |
| comment | String? | ã²ã¨ã“ã¨ |
| status | WantToDoStatus | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
| expiresAt | DateTime | æœ‰åŠ¹æœŸé™ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| updatedAt | DateTime | æ›´æ–°æ—¥æ™‚ |

### Recruitmentï¼ˆå‹Ÿé›†ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| creatorId | String | ä½œæˆè€…IDï¼ˆFKï¼‰ |
| categoryId | String | ã‚«ãƒ†ã‚´ãƒªIDï¼ˆFKï¼‰ |
| title | String | ã‚¿ã‚¤ãƒˆãƒ« |
| description | String? | è©³ç´°èª¬æ˜ |
| datetime | DateTime? | æ—¥æ™‚ï¼ˆç¢ºå®šã—ã¦ã„ã‚‹å ´åˆï¼‰ |
| datetimeFlex | String? | æ—¥æ™‚ï¼ˆã‚†ã‚‹ã„è¡¨ç¾ï¼‰ |
| area | Area | ã‚¨ãƒªã‚¢ |
| location | String? | å ´æ‰€ï¼ˆè©³ç´°ï¼‰ |
| minPeople | Int | æœ€å°äººæ•° |
| maxPeople | Int | æœ€å¤§äººæ•° |
| status | RecruitmentStatus | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| updatedAt | DateTime | æ›´æ–°æ—¥æ™‚ |
| closedAt | DateTime? | ç· ã‚åˆ‡ã‚Šæ—¥æ™‚ |

### Applicationï¼ˆå‚åŠ ç”³è«‹ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| recruitmentId | String | å‹Ÿé›†IDï¼ˆFKï¼‰ |
| applicantId | String | ç”³è«‹è€…IDï¼ˆFKï¼‰ |
| status | ApplicationStatus | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆPENDING/APPROVED/REJECTED/CANCELLEDï¼‰ |
| message | String? | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| respondedAt | DateTime? | å¿œç­”æ—¥æ™‚ |

### Offerï¼ˆã‚ªãƒ•ã‚¡ãƒ¼ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| recruitmentId | String | å‹Ÿé›†IDï¼ˆFKï¼‰ |
| senderId | String | é€ä¿¡è€…IDï¼ˆFKï¼‰ |
| receiverId | String | å—ä¿¡è€…IDï¼ˆFKï¼‰ |
| status | OfferStatus | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
| message | String? | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| respondedAt | DateTime? | å¿œç­”æ—¥æ™‚ |

### Groupï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| recruitmentId | String | å‹Ÿé›†IDï¼ˆFKã€1:1ï¼‰ |
| name | String | ã‚°ãƒ«ãƒ¼ãƒ—å |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |
| updatedAt | DateTime | æ›´æ–°æ—¥æ™‚ |

### GroupMemberï¼ˆã‚°ãƒ«ãƒ¼ãƒ—ãƒ¡ãƒ³ãƒãƒ¼ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| groupId | String | ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆFKï¼‰ |
| userId | String | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆFKï¼‰ |
| role | GroupMemberRole | å½¹å‰²ï¼ˆOWNER/MEMBERï¼‰ |
| joinedAt | DateTime | å‚åŠ æ—¥æ™‚ |

### Messageï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| groupId | String | ã‚°ãƒ«ãƒ¼ãƒ—IDï¼ˆFKï¼‰ |
| senderId | String | é€ä¿¡è€…IDï¼ˆFKï¼‰ |
| content | String | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å†…å®¹ |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |

### Notificationï¼ˆé€šçŸ¥ï¼‰

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| id | String (CUID) | ä¸»ã‚­ãƒ¼ |
| userId | String | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆFKï¼‰ |
| type | NotificationType | é€šçŸ¥ã‚¿ã‚¤ãƒ— |
| title | String | ã‚¿ã‚¤ãƒˆãƒ« |
| body | String | æœ¬æ–‡ |
| data | Json? | è¿½åŠ ãƒ‡ãƒ¼ã‚¿ |
| isRead | Boolean | æ—¢èª­ãƒ•ãƒ©ã‚° |
| createdAt | DateTime | ä½œæˆæ—¥æ™‚ |

---

## ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ

| ãƒ†ãƒ¼ãƒ–ãƒ« | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | ç”¨é€” |
|---------|-------------|------|
| WantToDo | (userId) | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡¨æ˜ä¸€è¦§å–å¾— |
| WantToDo | (categoryId) | ã‚«ãƒ†ã‚´ãƒªåˆ¥è¡¨æ˜å–å¾— |
| WantToDo | (status, expiresAt) | æœ‰åŠ¹ãªè¡¨æ˜ã®å–å¾— |
| Recruitment | (creatorId) | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å‹Ÿé›†ä¸€è¦§å–å¾— |
| Recruitment | (categoryId) | ã‚«ãƒ†ã‚´ãƒªåˆ¥å‹Ÿé›†å–å¾— |
| Recruitment | (area, status) | ã‚¨ãƒªã‚¢åˆ¥å‹Ÿé›†ä¸€è¦§å–å¾— |
| Application | (applicantId, status) | è‡ªåˆ†ã®ç”³è«‹ä¸€è¦§å–å¾— |
| Offer | (receiverId, status) | å—ä¿¡ã‚ªãƒ•ã‚¡ãƒ¼ä¸€è¦§å–å¾— |
| Message | (groupId, createdAt) | ã‚°ãƒ«ãƒ¼ãƒ—ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾— |
| Notification | (userId, isRead, createdAt) | æœªèª­é€šçŸ¥å–å¾— |
