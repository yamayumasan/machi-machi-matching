# ユーザーフロー

## 全体フロー図

```
┌─────────────────────────────────────────────────────────────┐
│  ユーザー登録                                                 │
│  - メール or OAuth（Google/LINE）                             │
│  - 興味カテゴリ選択（複数可）                                  │
│  - 活動エリア選択（東京 / 仙台）                               │
│  - プロフィール設定                                           │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  ホーム画面                                                   │
│                                                              │
│  ┌─────────────────────────────────────────────────────┐    │
│  │ 今やりたいこと（ステータス）                           │    │
│  │                                                       │    │
│  │  🎲 ボドゲやりたい     ☕ カフェ行きたい    [+追加]   │    │
│  │  （来週まで）          （今週末）                      │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                              │
│  ┌───────────────┐  ┌───────────────┐                       │
│  │  募集を作成    │  │  募集を探す    │                       │
│  └───────────────┘  └───────────────┘                       │
│                                                              │
│  【あなたへのオファー】                                        │
│  「〇〇さんがボドゲ会に誘っています」→ 参加 / パス            │
│                                                              │
│  【おすすめの募集】※やりたいこと表明に基づいて優先表示         │
│  - 「ボドゲ会@仙台」← あなたの「ボドゲやりたい」にマッチ      │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 募集作成フロー

```
┌─────────────────────────────────────────────────────────────┐
│  募集作成フロー                                               │
│                                                              │
│  1. 何したい？ → 「ボドゲ」（カテゴリ or 自由入力）            │
│  2. いつ？    → 「来週末のどこか」（ゆるくてOK）              │
│  3. どこで？  → 「仙台駅周辺」（エリアだけでOK）              │
│  4. 何人？    → 「2〜5人」                                   │
│  5. ひとこと  → 「初心者歓迎！」（任意）                      │
│                                                              │
│  → 投稿                                                      │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  ユーザー提案 & オファー                                      │
│                                                              │
│  「この人たちが興味ありそうです」                              │
│                                                              │
│  ┌────────────────────────────────────────┐                 │
│  │ ⭐ Aさん                    [オファー]  │ ← やりたい表明中 │
│  │    「ボドゲやりたい」表明中🔥            │                 │
│  │    仙台 / ボドゲ歴2年                   │                 │
│  └────────────────────────────────────────┘                 │
│                                                              │
│  ┌────────────────────────────────────────┐                 │
│  │   Bさん                     [オファー]  │ ← 興味カテゴリ  │
│  │   ボードゲームに興味あり                 │   のみ          │
│  │   仙台 / 初心者                         │                 │
│  └────────────────────────────────────────┘                 │
│                                                              │
│  ※「やりたい」表明中のユーザーが上位表示されます              │
│                                                              │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  グループ形成                                                 │
│                                                              │
│  Aさんが「参加する」→ グループ自動作成                        │
│                                                              │
│  【ボドゲ会グループ】                                         │
│  - メンバー：自分、Aさん                                      │
│  - チャット機能                                               │
│  - 日程調整機能（候補日を出し合う）                            │
│  - 募集は継続中（あと3人まで参加可能）                         │
└─────────────────────────────────────────────────────────────┘
```

---

## やりたいこと表明フロー

```
┌─────────────────────────────────────────────────────────────┐
│  やりたいこと表明フロー                                       │
│                                                              │
│  1. [+追加] をタップ                                         │
│  2. カテゴリ選択 → 「ボードゲーム」                           │
│  3. 時期選択    → 「来週くらい」                             │
│  4. ひとこと    → 「カタンやってみたい！」（任意）            │
│                                                              │
│  → 表明する                                                  │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  表明後の状態                                                 │
│                                                              │
│  今やりたいこと：                                             │
│  ┌─────────────────────────────────────┐                    │
│  │ 🎲 ボドゲやりたい                    │                    │
│  │                                     │                    │
│  │ 📅 来週くらい                        │                    │
│  │ 📍 仙台                              │                    │
│  │ 💬 「カタンやってみたい！」          │                    │
│  │                                     │                    │
│  │ ⏰ あと7日で期限切れ  [延長] [削除]  │                    │
│  └─────────────────────────────────────┘                    │
│                                                              │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  マッチ時の通知                                               │
│                                                              │
│  【通知】                                                    │
│  「あなたの『ボドゲやりたい』にマッチする募集があります！」     │
│                                                              │
│  または                                                       │
│                                                              │
│  【オファー受信】                                             │
│  「〇〇さんからボドゲ会のお誘いです！」                        │
│  → [参加する] [興味ある] [今回はパス]                         │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 通知フロー

### 募集者側

```
1. 募集作成
       ↓
2. システムが「やりたい表明中」のユーザーを優先提案
       ↓
3. オファー送信（複数可）
       ↓
4. 参加承諾通知を受信
       ↓
5. グループ自動作成
       ↓
6. グループチャットで日程調整
```

### 参加希望者側

```
1. 「やりたいこと」を表明
       ↓
2-a. マッチする募集が作成されたら通知
     「あなたの『ボドゲやりたい』にマッチする募集があります！」
       ↓
     募集を見る → 参加する
       ↓
     グループに参加

2-b. 募集者からオファーが来たら通知
     「〇〇さんからボドゲ会のお誘いです！」
       ↓
     [参加する] → グループに参加
     [興味ある] → 保留（後で決める）
     [今回はパス] → 辞退
```

---

## 画面遷移図

```
                    ┌─────────────┐
                    │   スプラッシュ  │
                    └──────┬──────┘
                           │
              ┌────────────┴────────────┐
              ↓                         ↓
        ┌──────────┐             ┌──────────┐
        │  ログイン  │             │  新規登録  │
        └─────┬────┘             └─────┬────┘
              │                         │
              │                    ┌────┴────┐
              │                    ↓         ↓
              │              ┌─────────┐ ┌─────────┐
              │              │カテゴリ選択│ │エリア選択│
              │              └────┬────┘ └────┬────┘
              │                   │           │
              │                   └─────┬─────┘
              │                         ↓
              │                    ┌─────────┐
              │                    │プロフィール│
              │                    └────┬────┘
              │                         │
              └────────────┬────────────┘
                           ↓
                    ┌──────────┐
                    │   ホーム   │←──────────────────┐
                    └─────┬────┘                    │
          ┌───────────┬───┴───┬───────────┐        │
          ↓           ↓       ↓           ↓        │
    ┌──────────┐ ┌──────┐ ┌──────┐ ┌──────────┐   │
    │やりたいこと│ │募集作成│ │募集一覧│ │グループ一覧│   │
    │  表明    │ └──┬───┘ └──┬───┘ └────┬─────┘   │
    └──────────┘    │        │          │         │
                    ↓        ↓          ↓         │
              ┌──────────┐ ┌────────┐ ┌────────┐  │
              │ユーザー提案│ │募集詳細│ │グループ │  │
              └─────┬────┘ └───┬────┘ │ チャット│  │
                    │          │      └────────┘  │
                    ↓          ↓                   │
              ┌──────────┐ ┌────────┐              │
              │オファー送信│ │参加確認│              │
              └─────┬────┘ └───┬────┘              │
                    │          │                   │
                    └────┬─────┘                   │
                         ↓                         │
                    ┌──────────┐                   │
                    │グループ作成│───────────────────┘
                    └──────────┘
```

---

## 状態遷移図

### 募集のステータス

```
[下書き] → [募集中] → [締切] → [完了]
              ↓
          [キャンセル]
```

| ステータス | 説明 |
|-----------|------|
| 下書き | 作成中（未公開） |
| 募集中 | 公開中、参加者受付中 |
| 締切 | 募集終了、グループ確定 |
| 完了 | イベント実施済み |
| キャンセル | 募集者が取り消し |

### やりたいこと表明のステータス

```
[表明中] → [期限切れ]
   ↓
[削除]
```

| ステータス | 説明 |
|-----------|------|
| 表明中 | 有効、マッチング対象 |
| 期限切れ | 1週間経過で自動無効化 |
| 削除 | ユーザーが手動削除 |

### オファーのステータス

```
[送信済み] → [承諾] → [グループ参加]
    ↓
  [辞退]
    ↓
  [期限切れ]
```

| ステータス | 説明 |
|-----------|------|
| 送信済み | 相手の回答待ち |
| 承諾 | 参加決定 |
| 辞退 | 今回はパス |
| 期限切れ | 一定期間回答なし |
